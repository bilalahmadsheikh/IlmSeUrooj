name: Data Update Reminder

on:
  schedule:
    # Every 20 days at 9 AM PKT (4 AM UTC)
    - cron: '0 4 */20 * *'
  workflow_dispatch:

jobs:
  send-reminder:
    runs-on: ubuntu-latest
    timeout-minutes: 5

    steps:
      - name: Send reminder email
        uses: dawidd6/action-send-mail@v3
        with:
          server_address: smtp.gmail.com
          server_port: 587
          username: ${{ secrets.SMTP_USERNAME }}
          password: ${{ secrets.SMTP_PASSWORD }}
          subject: 'ðŸ“‹ IlmSeUrooj â€” Time to Update University Data'
          to: ba8516127@gmail.com
          from: IlmSeUrooj Bot
          body: |
            Assalam o Alaikum Bilal,

            This is your 20-day reminder to update the university data on IlmSeUrooj.

            ðŸ“Œ Things to check:
            â€¢ Admission deadlines â€” verify dates on university websites
            â€¢ Test dates â€” check for any schedule changes
            â€¢ Merit lists â€” update if new data is available
            â€¢ New programs or fee changes

            ðŸ”— Quick links:
            â€¢ Run scrapers: https://github.com/${{ github.repository }}/actions
            â€¢ Edit data: https://github.com/${{ github.repository }}/blob/main/src/data/universities.js

            Best regards,
            IlmSeUrooj Bot
